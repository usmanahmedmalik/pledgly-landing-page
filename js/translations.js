const translations = {
    nav: {
        subtitle: {
            en: "Community Management",
            nl: "Gemeenschapsbeheer",
            de: "Gemeindemanagement",
            ar: "إدارة المجتمع"
        },
        features: { en: "Features", nl: "Functies", de: "Funktionen", ar: "الميزات" },
        security: { en: "Security", nl: "Veiligheid", de: "Sicherheit", ar: "الأمان" },
        about: { en: "About", nl: "Over ons", de: "Über uns", ar: "عن المنصة" },
        contact: { en: "Contact", nl: "Contact", de: "Kontakt", ar: "اتصل بنا" }
    },
    hero: {
        trusted: {
            en: "Trusted by Communities",
            nl: "Vertrouwd door gemeenschappen",
            de: "Von Gemeinschaften vertraut",
            ar: "موثوق به من قبل المجتمعات"
        },
        title_1: { en: "Empowering Communities", nl: "Gemeenschappen Versterken", de: "Gemeinschaften stärken", ar: "تمكين المجتمعات" },
        title_2: { en: "Through Modern Giving", nl: "Door Modern Geven", de: "Durch modernes Geben", ar: "من خلال العطاء الحديث" },
        subtitle: {
            en: "A complete platform built for mosques and religious organizations to manage donations, engage members, and strengthen community bonds.",
            nl: "Een compleet platform gebouwd voor moskeeën en religieuze organisaties om donaties te beheren, leden te betrekken en gemeenschapsbanden te versterken.",
            de: "Eine komplette Plattform für Moscheen und religiöse Organisationen zur Verwaltung von Spenden, Einbindung von Mitgliedern und Stärkung der Gemeinschaft.",
            ar: "منصة متكاملة بنيت للمساجد والمؤسسات الدينية لإدارة التبرعات، وإشراك الأعضاء، وتعزيز الروابط المجتمعية."
        },
        demo: { en: "Schedule a Demo", nl: "Demo inplannen", de: "Demo vereinbaren", ar: "حجز موعد للعرض" },
        how_it_works: { en: "See How It Works", nl: "Bekijk hoe het werkt", de: "Wie es funktioniert", ar: "شاهد كيف يعمل" },
        stats_data: { en: "Your Data", nl: "Jouw Data", de: "Ihre Daten", ar: "بياناتك" },
        stats_server: { en: "Your Server", nl: "Jouw Server", de: "Ihr Server", ar: "خادمك" },
        stats_compliant: { en: "Compliant", nl: "Conform", de: "Konform", ar: "متوافق" },
        stats_languages: { en: "3 Languages", nl: "3 Talen", de: "3 Sprachen", ar: "٣ لغات" },
        stats_langs: { en: "EN • NL • AR", nl: "EN • NL • AR", de: "EN • NL • AR", ar: "EN • NL • AR" }
    },
    features: {
        title: {
            en: "Everything You Need to Manage Your Community",
            nl: "Alles wat je nodig hebt om je gemeenschap te beheren",
            de: "Alles, was Sie zur Verwaltung Ihrer Gemeinschaft benötigen",
            ar: "كل ما تحتاجه لإدارة مجتمعك"
        },
        subtitle: {
            en: "Streamline donations, courses, and community engagement with purpose-built tools for faith-based organizations.",
            nl: "Stroomlijn donaties, cursussen en betrokkenheid van de gemeenschap met tools die speciaal zijn gebouwd voor geloofsgerichte organisaties.",
            de: "Optimieren Sie Spenden, Kurse und das Engagement der Gemeinschaft mit speziell entwickelten Tools für religiöse Organisationen.",
            ar: "بسط عمليات التبرعات، والدورات، والمشاركة المجتمعية باستخدام أدوات صممت خصيصًا للمؤسسات الدينية."
        },
        donation_title: { en: "Donation Management", nl: "Donatiebeheer", de: "Spendenverwaltung", ar: "إدارة التبرعات" },
        donation_desc: {
            en: "Track annual pledges, process one-time donations, and set up recurring contributions with secure Stripe integration. Members get personal dashboards to manage everything.",
            nl: "Volg jaarlijkse toezeggingen, verwerk eenmalige donaties en stel terugkerende bijdragen in met veilige Stripe-integratie. Leden krijgen persoonlijke dashboards om alles te beheren.",
            de: "Verfolgen Sie jährliche Zusagen, verarbeiten Sie einmalige Spenden und richten Sie wiederkehrende Beiträge mit sicherer Stripe-Integration ein.",
            ar: "تتبع التعهادات السنوية، وعالج التبرعات لمرة واحدة، وقم بإعداد مساهمات دورية مع تكامل آمن مع Stripe. يحصل الأعضاء على لوحات تحكم شخصية لإدارة كل شيء."
        },
        campaigns_title: { en: "Seasonal Campaigns", nl: "Seizoensgebonden Campagnes", de: "Saisonale Kampagnen", ar: "الحملات الموسمية" },
        campaigns_desc: {
            en: "Run focused fundraising campaigns like Ramadan with real-time goal tracking, daily progress updates, and visual dashboards that inspire community participation.",
            nl: "Voer gerichte fondsenwervingscampagnes zoals Ramadan uit met realtime doeltracking, dagelijkse voortgangsupdates en visuele dashboards die gemeenschapsdeelname inspireren.",
            de: "Führen Sie gezielte Spendenkampagnen wie Ramadan mit Echtzeit-Zielverfolgung durch.",
            ar: "أطلق حملات جمع تبرعات مركزة مثل رمضان مع تتبع للأهداف في الوقت الفعلي، وتحديثات يومية، ولوحات تحكم مرئية تلهم مشاركة المجتمع."
        },
        edu_title: { en: "Educational Programs", nl: "Educatieve Programma's", de: "Bildungsprogramme", ar: "البرامج التعليمية" },
        edu_desc: {
            en: "Manage courses, class sessions, and student enrollment. Teachers can share materials, assign homework, and track progress from their portal.",
            nl: "Beheer cursussen, lesbijeenkomsten en studentinschrijvingen. Leraren kunnen materialen delen, huiswerk opgeven en voortgang volgen vanuit hun portaal.",
            de: "Verwalten Sie Kurse, Unterrichtsstunden und Einschreibungen.",
            ar: "أدر الدورات، والجلسات الدراسية، وتسجيل الطلاب. يمكن للمعلمين مشاركة المواد، وتعيين الواجبات، وتتبع التقدم من بوابتهم."
        },
        portal_title: { en: "Member Portal", nl: "Ledenportaal", de: "Mitgliederportal", ar: "بوابة الأعضاء" },
        portal_desc: {
            en: "Each member gets their own secure dashboard to manage pledges, view donation history, enroll in courses, and stay connected with community activities.",
            nl: "Elk lid krijgt een eigen beveiligd dashboard om toezeggingen te beheren, donatiegeschiedenis te bekijken, in te schrijven voor cursussen en verbonden te blijven met gemeenschapsactiviteiten.",
            de: "Jedes Mitglied erhält ein eigenes sicheres Dashboard.",
            ar: "يحصل كل عضو على لوحة تحكم آمنة خاصة به لإدارة التعهادات، وعرض سجل التبرعات، والتسجيل في الدورات، والبقاء على اتصال بأنشطة المجتمع."
        },
        admin_title: { en: "Administrative Control", nl: "Administratieve Controle", de: "Verwaltungskontrolle", ar: "التحكم الإداري" },
        admin_desc: {
            en: "Comprehensive admin tools to monitor commitments, track payments, manage member roles, and configure system settings—all from one central location.",
            nl: "Uitgebreide beheertools om toezeggingen te bewaken, betalingen te volgen, ledenrollen te beheren en systeeminstellingen te configureren — allemaal vanaf één centrale locatie.",
            de: "Umfassende Admin-Tools zur Überwachung von Verpflichtungen und Zahlungen.",
            ar: "أدوات إدارة شاملة لمراقبة التعهادات، وتتبع المدفوعات، وإدارة أدوار الأعضاء، وتكوين إعدادات النظام—كل ذلك من موقع مركزي واحد."
        },
        community_title: { en: "Community Engagement", nl: "Betrokkenheid", de: "Gemeinschaftsengagement", ar: "المشاركة المجتمعية" },
        community_desc: {
            en: "Built-in tools for raffles, events, and public-facing pages where visitors can contact you and parents can register children for programs.",
            nl: "Ingebouwde tools voor loterijen, evenementen en openbare pagina's waar bezoekers contact kunnen opnemen en ouders hun kinderen kunnen aanmelden voor programma's.",
            de: "Integrierte Tools für Verlsoungen, Veranstaltungen und öffentliche Seiten.",
            ar: "أدوات مدمجة للسحوبات، والفعاليات، والصفحات العامة حيث يمكن للزوار الاتصال بك ويمكن للآباء تسجيل أطفالهم في البرامج."
        }
    },
    compliance: {
        title: { en: "Your Community's Trust is Our Priority", nl: "Het vertrouwen van jouw gemeenschap is onze prioriteit", de: "Das Vertrauen Ihrer Gemeinschaft ist unsere Priorität", ar: "ثقة مجتمعك هي أولويتنا" },
        desc: {
            en: "Fully compliant with European data protection regulations, with dedicated databases and EU-based hosting. Your data is never mixed with other organizations.",
            nl: "Volledig in overeenstemming met Europese regelgeving voor gegevensbescherming, met speciale databases en hosting in de EU. Je gegevens worden nooit gemengd met die van andere organisaties.",
            de: "Vollständig konform mit den europäischen Datenschutzbestimmungen.",
            ar: "متوافق تمامًا مع لوائح حماية البيانات الأوروبية، مع قواعد بيانات مخصصة واستضافة في الاتحاد الأوروبي. لا يتم خلط بياناتك أبدًا مع مؤسسات أخرى."
        },
        gdpr: { en: "GDPR Compliant Data Handling", nl: "AVG-conforme gegevensverwerking", de: "DSGVO-konforme Datenverarbeitung", ar: "معالجة بيانات متوافقة مع النظام الأوروبي" },
        nav_db: { en: "Dedicated Database Per Organization", nl: "Toegewijde database per organisatie", de: "Dedizierte Datenbank pro Organisation", ar: "قاعدة بيانات مخصصة لكل منظمة" },
        stripe: { en: "Secure Stripe Payment Processing (PCI Compliant)", nl: "Veilige Stripe-betalingsverwerking (PCI-conform)", de: "Sichere Stripe-Zahlungsabwicklung", ar: "معالجة دفع آمنة عبر Stripe" },
        security: { en: "Regular Security Updates & Monitoring", nl: "Regelmatige beveiligingsupdates & monitoring", de: "Regelmäßige Sicherheitsupdates", ar: "تحديثات أمان ومراقبة منتظمة" },
        residency: { en: "Data Residency", nl: "Data Opslag", de: "Datenresidenz", ar: "إقامة البيانات" },
        encrypted: { en: "Encrypted", nl: "Versleuteld", de: "Verschlüsselt", ar: "مشفرة" },
        payments: { en: "Payments", nl: "Betalingen", de: "Zahlungen", ar: "المدفوعات" },
    },
    how_it_works: {
        title: { en: "From Setup to Success in Days", nl: "Van installatie tot succes in dagen", de: "Von der Einrichtung zum Erfolg in Tagen", ar: "من الإعداد إلى النجاح في أيام" },
        subtitle: { en: "Simple, straightforward process to get your community platform up and running.", nl: "Eenvoudig, rechttoe rechtaan proces om je gemeenschapsplatform operationeel te krijgen.", de: "Einfacher Prozess, um Ihre Plattform zum Laufen zu bringen.", ar: "عملية بسيطة ومباشرة لتشغيل منصة مجتمعك." },
        step1_title: { en: "Consultation", nl: "Consultatie", de: "Beratung", ar: "استشارة" },
        step1_desc: { en: "We discuss your needs and show you how Pledgly works", nl: "We bespreken je behoeften en laten zien hoe Pledgly werkt", de: "Wir besprechen Ihre Bedürfnisse", ar: "نناقش احتياجاتك ونوضح لك كيف يعمل Pledgly" },
        step2_title: { en: "Customization", nl: "Aanpassing", de: "Anpassung", ar: "تخصيص" },
        step2_desc: { en: "We configure with your branding and import your data", nl: "We configureren met jouw huisstijl en importeren je gegevens", de: "Wir konfigurieren mit Ihrem Branding", ar: "نقوم بالإعداد بهويتك ونستورد بياناتك" },
        step3_title: { en: "Training", nl: "Training", de: "Schulung", ar: "تدريب" },
        step3_desc: { en: "We train your team with comprehensive documentation", nl: "We trainen je team met uitgebreide documentatie", de: "Wir schulen Ihr Team", ar: "ندرب فريقك مع وثائق شاملة" },
        step4_title: { en: "Launch", nl: "Lancering", de: "Start", ar: "إطلاق" },
        step4_desc: { en: "Go live with full support for your community", nl: "Ga live met volledige ondersteuning voor je gemeenschap", de: "Gehen Sie live", ar: "انطلق مع دعم كامل لمجتمعك" },
        step5_title: { en: "Support", nl: "Ondersteuning", de: "Support", ar: "دعم" },
        step5_desc: { en: "Regular updates and responsive ongoing support", nl: "Regelmatige updates en responsieve doorlopende ondersteuning", de: "Regelmäßige Updates", ar: "تحديثات منتظمة ودعم مستمر وسريع" }
    },
    about: {
        title: { en: "Built by Communities, For Communities", nl: "Gebouwd door gemeenschappen, voor gemeenschappen", de: "Von Gemeinschaften für Gemeinschaften gebaut", ar: "بني من قبل المجتمعات، للمجتمعات" },
        desc: {
            en: "Pledgly was born from developing a donation management system for a local mosque. We realized that mosques and faith-based organizations needed something different: a platform that understood the rhythm of Islamic life, supported multilingual communities, prioritized privacy, and made both giving and management straightforward.",
            nl: "Pledgly is ontstaan uit het ontwikkelen van een donatiebeheersysteem voor een lokale moskee. We realiseerden ons dat moskeeën en geloofsgerichte organisaties iets anders nodig hadden: een platform dat het ritme van het islamitische leven begreep, meertalige gemeenschappen ondersteunde, privacy prioriteerde en zowel geven als beheren eenvoudig maakte.",
            de: "Pledgly entstand aus der Entwicklung eines Spendenmanagementsystems für eine lokale Moschee.",
            ar: "ولدت Pledgly من تطوير نظام إدارة تبرعات لمسجد محلي. أدركنا أن المساجد والمؤسسات الدينية تحتاج إلى شيء مختلف: منصة تفهم إيقاع الحياة الإسلامية، وتدعم المجتمعات متعددة اللغات، وتعطي الأولوية للخصوصية، وتجعل كلاً من العطاء والإدارة أمراً بسيطاً."
        },
        quote: {
            en: "\"We build features based on real community needs, not trends. Every function in Pledgly solves an actual problem faced by mosques and religious organizations.\"",
            nl: "\"We bouwen functies op basis van echte behoeften van de gemeenschap, niet op basis van trends. Elke functie in Pledgly lost een daadwerkelijk probleem op waarmee moskeeën en religieuze organisaties worden geconfronteerd.\"",
            de: "\"Wir entwickeln Funktionen basierend auf echten Bedürfnissen.\"",
            ar: "\"نحن نبني الميزات بناءً على احتياجات المجتمع الحقيقية، وليس الاتجاهات. كل وظيفة في Pledgly تحل مشكلة فعلية تواجهها المساجد والمؤسسات الدينية.\""
        },
        team: { en: "The Pledgly Team", nl: "Het Pledgly Team", de: "Das Pledgly Team", ar: "فريق Pledgly" }
    },
    contact: {
        title: { en: "Let's Start a Conversation", nl: "Laten we een gesprek beginnen", de: "Lassen Sie uns ins Gespräch kommen", ar: "لنبدأ محادثة" },
        subtitle: {
            en: "Whether you have questions, want to schedule a demo, or are ready to bring Pledgly to your community, we're here to help.",
            nl: "Of je nu vragen hebt, een demo wilt plannen of klaar bent om Pledgly naar je gemeenschap te brengen, wij zijn er om te helpen.",
            de: "Ob Sie Fragen haben oder eine Demo vereinbaren möchten.",
            ar: "سواء كان لديك أسئلة، أو ترغب في حجز عرض توضيحي، أو كنت مستعدًا لجلب Pledgly إلى مجتمعك، نحن هنا للمساعدة."
        },
        name: { en: "Your Name *", nl: "Jouw Naam *", de: "Ihr Name *", ar: "اسمك *" },
        org: { en: "Organization Name *", nl: "Organisatienaam *", de: "Organisationsname *", ar: "اسم المنظمة *" },
        email: { en: "Email Address *", nl: "E-mailadres *", de: "E-Mail-Adresse *", "ar": "البريد الإلكتروني *" },
        phone: { en: "Phone Number", nl: "Telefoonnummer", de: "Telefonnummer", ar: "رقم الهاتف" },
        members: { en: "Number of Active Members", nl: "Aantal actieve leden", de: "Anzahl aktiver Mitglieder", ar: "عدد الأعضاء النشطين" },
        members_opt: {
            opt1: { en: "Under 100", nl: "Minder dan 100", de: "Unter 100", ar: "أقل من ١٠٠" },
            opt2: { en: "100-250", nl: "100-250", de: "100-250", ar: "١٠٠-٢٥٠" },
            opt3: { en: "250-500", nl: "250-500", de: "250-500", ar: "٢٥٠-٥٠٠" },
            opt4: { en: "500-1000", nl: "500-1000", de: "500-1000", ar: "٥٠٠-١٠٠٠" },
            opt5: { en: "Over 1000", nl: "Meer dan 1000", de: "Über 1000", ar: "أكثر من ١٠٠٠" }
        },
        help: { en: "How can we help you? *", nl: "Hoe kunnen we je helpen? *", "de": "Wie können wir Ihnen helfen? *", ar: "كيف يمكننا مساعدتك؟ *" },
        help_opt: {
            opt1: { en: "Schedule a demo", nl: "Demo inplannen", de: "Demo vereinbaren", ar: "حجز عرض توضيحي" },
            opt2: { en: "Get pricing information", nl: "Prijsinformatie opvragen", de: "Preisanfrage", ar: "الحصول على معلومات التسعير" },
            opt3: { en: "Discuss custom requirements", nl: "Maatwerk bespreken", de: "Individuelle Anforderungen besprechen", ar: "مناقشة متطلبات خاصة" },
            opt4: { en: "Technical questions", nl: "Technische vragen", de: "Technische Fragen", ar: "أسئلة تقنية" },
            opt5: { en: "General inquiry", nl: "Algemene vraag", de: "Allgemeine Anfrage", ar: "استفسار عام" }
        },
        message: { en: "Message *", nl: "Bericht *", de: "Nachricht *", ar: "الرسالة *" },
        send: { en: "Send Message", nl: "Bericht versturen", de: "Nachricht senden", ar: "إرسال الرسالة" },
        preferred_lang: { en: "Preferred Language for Response", nl: "Voorkeurstaal voor reactie", de: "Bevorzugte Sprache für Antwort", ar: "اللغة المفضلة للرد" },
        privacy: {
            en: "We respect your privacy. Information submitted through this form is used solely to respond to your inquiry and is handled in accordance with GDPR regulations.",
            nl: "We respecteren je privacy. Informatie die via dit formulier wordt ingediend, wordt uitsluitend gebruikt om op je vraag te reageren en wordt behandeld in overeenstemming met de AVG-regelgeving.",
            de: "Wir respektieren Ihre Privatsphäre.",
            ar: "نحن نحترم خصوصيتك. المعلومات المقدمة من خلال هذا النموذج تستخدم فقط للرد على استفسيارتك ويتم التعامل معها وفقًا للوائح GDPR."
        },
        direct_contact: { en: "Or contact us directly:", nl: "Of neem direct contact met ons op:", de: "Oder kontaktieren Sie uns direkt:", ar: "أو اتصل بنا مباشرة:" },
        hours: { en: "Monday-Friday, 9:00-17:00 CET", nl: "Maandag-Vrijdag, 9:00-17:00 CET", de: "Montag-Freitag, 9:00-17:00 MEZ", ar: "الأثنين-الجمعة، 9:00-17:00 بتوقيت وسط أوروبا" }
    },
    footer: {
        rights: { en: "© 2026 Pledgly. All rights reserved.", nl: "© 2026 Pledgly. Alle rechten voorbehouden.", de: "© 2026 Pledgly. Alle Rechte vorbehalten.", ar: "© 2026 Pledgly. جميع الحقوق محفوظة." },
        twitter: { en: "Twitter", nl: "Twitter", de: "Twitter", ar: "تويتر" },
        linkedin: { en: "LinkedIn", nl: "LinkedIn", de: "LinkedIn", ar: "لينكد إن" },
        support: { en: "Support", nl: "Ondersteuning", de: "Support", ar: "الدعم" }
    }
};

document.addEventListener('alpine:init', () => {
    Alpine.data('app', () => ({
        currentLang: 'nl',
        translations: translations,

        init() {
            this.updateDir();
        },

        toggleLanguage(lang) {
            this.currentLang = lang;
            this.updateDir();
        },

        updateDir() {
            document.dir = this.currentLang === 'ar' ? 'rtl' : 'ltr';
        },

        t(key) {
            const keys = key.split('.');
            let output = this.translations;
            for (let k of keys) {
                if (output && output[k]) {
                    output = output[k];
                } else {
                    return key; // Fallback to key if not found
                }
            }
            return output[this.currentLang] || output['en'] || key;
        },

        // For arrays/lists or special structures if needed
        isRtl() {
            return this.currentLang === 'ar';
        }
    }));
});
